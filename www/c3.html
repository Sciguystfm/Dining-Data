<!DOCTYPE html>
<html>

<head>
    <link href="c3.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.11.1/lodash.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js"></script>
    <script src="http://code.jquery.com/ui/1.11.3/jquery-ui.min.js" integrity="sha256-xI/qyl9vpwWFOXz7+x/9WkG5j/SVnSw21viy8fWwbeE=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">

    <meta charset="utf-8">
    <title>c3.js Graphs!</title>
</head>

<body>
    <header>
        <h1>Dining Services</h1>
        <div id="Balance"></div>
        <button onclick="lineB()">Line Chart</button>
        <button onclick="bothB()">Both Charts</button>
        <button onclick="pieB()">Pie Chart</button>
    </header>
    <div id="chartHolder">
        <div id="lineChart" class="half"></div>
        <div id="pieChart" class="half"></div>
    </div>

    <script src="chartdata.js"></script>

    <script>

        function getCurrentClass(selector){
          return _.filter(_.split(selector.attr('class'),' '), function(cls){
            return cls !== 'c3'
          })[0]
        }
        function bothB() {
            var line = $('#lineChart');
            var pie = $('#pieChart');

            line.toggleClass(getCurrentClass(line))
            line.toggleClass("half")
            pie.toggleClass(getCurrentClass(pie))
            pie.toggleClass("half")

            chart.resize({
                height: ($('#chartHolder').height() / 2)-15,
                width: ($('#chartHolder').width())-15
            })
            pieChart.resize({
                height: ($('#chartHolder').height() / 2)-15,
                width: ($('#chartHolder').width())-15
              })
        }
        function pieB() {
            var line = $('#lineChart');
            var pie = $('#pieChart');

            line.toggleClass(getCurrentClass(line))
            line.toggleClass("none")
            pie.toggleClass(getCurrentClass(pie))
            pie.toggleClass("full")
            pieChart.resize({
              height: ($('#chartHolder').height())-15,
              width: ($('#chartHolder').width())-15
            })
        }

        function lineB() {
            var line = $('#lineChart');
            var pie = $('#pieChart');

            line.toggleClass(getCurrentClass(line))
            line.toggleClass("full")
            pie.toggleClass(getCurrentClass(pie))
            pie.toggleClass("none")
            chart.resize({
              height: ($('#chartHolder').height())-15,
              width: ($('#chartHolder').width())-15
            })

        }
    </script>



</body>

</html>
